# fan:
#   - platform: speed
#     id: ${hm_hms_inverter_name}_command
#     name: ${name}_${hm_hms_inverter_name}_command
#     output: ${hm_hms_inverter_name}_percent_output

hm_hms_inverter:
  id: !extend ${hm_hms_inverter_id}
  inverters:
    - id: ${hm_hms_inverter_name}_id  #!extend
      serial: ${hm_hms_inverter_sn} # Serial No of your inverter 
      rssi:
        name: ${name}_${hm_hms_inverter_name}_rssi  # Sensor
      limit_percent: # Number Entity 0 - 100%
        name: ${name}_${hm_hms_inverter_name}_percent_power_limit
      limit_absolute: # Number Entity 0 - 2500 W
        name: ${name}_${hm_hms_inverter_name}_absolute_power_limit
      palevel:
        name: ${name}_${hm_hms_inverter_name}_palevel  
      percent_output:
        id: ${hm_hms_inverter_name}_percent_output
      restart:
        name: ${name}_${hm_hms_inverter_name}_restart
      reachable: # Binary Sensor
        name: ${name}_${hm_hms_inverter_name}_reachable
      dc_channels:
        - power: # Power in W
            name: ${name}_${hm_hms_inverter_name}_pv0_power
          current: # Current in A
            name: ${name}_${hm_hms_inverter_name}_pv0_current
            icon: mdi:current-dc
          voltage: # Voltage in V
            name: ${name}_${hm_hms_inverter_name}_pv0_voltage
          energy: 
            name: ${name}_${hm_hms_inverter_name}_pv0_energy_today
            device_class: energy
            icon: mdi:counter
            unit_of_measurement: 'kWh'
            filters: 
              - multiply: 0.001
        - power:
            name: ${name}_${hm_hms_inverter_name}_pv1_power
          current: # Current in A
            name: ${name}_${hm_hms_inverter_name}_pv1_current
            icon: mdi:current-dc
          voltage: # Voltage in V
            name: ${name}_${hm_hms_inverter_name}_pv1_voltage
          energy: 
            name: ${name}_${hm_hms_inverter_name}_pv1_energy_today
            device_class: energy
            icon: mdi:counter
            unit_of_measurement: 'kWh'
            filters: 
              - multiply: 0.001
      ac_channel:
        power:
          name: ${name}_${hm_hms_inverter_name}_ac_power
        energy: 
          name: ${name}_${hm_hms_inverter_name}_ac_energy_today
          device_class: energy
          icon: mdi:counter
          unit_of_measurement: 'kWh'
          filters: 
            - multiply: 0.001
      inverter_channel:
        temperature:
          name: ${name}_${hm_hms_inverter_name}_temperature
        power:
          name: ${name}_${hm_hms_inverter_name}_inverter_power
        energy: # Today's Energy in Wh
          name: ${name}_${hm_hms_inverter_name}_inverter_energy_today
          device_class: energy
          icon: mdi:counter
          unit_of_measurement: 'kWh'
          filters: 
            - multiply: 0.001


